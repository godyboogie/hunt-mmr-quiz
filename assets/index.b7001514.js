import{_ as P,q as h,s as p,C as $,h as k,D as A,E as b,p as D,F as U,G as V,H as T,I as F,l as L,r as v,t as w,v as x,J as O,K as B,L as G,M as l,z as J,N as X,O as Y,c as Z,x as M,y as K,P as ee}from"./entry.7363f37e.js";import{u as te}from"./vue.f36acd1f.15f0a047.js";const se={},ne={class:"quizContainer"};function ie(t,e){return h(),p("div",ne,[$(t.$slots,"default")])}const oe=P(se,[["render",ie]]);async function re(t,e){return await ae(e).catch(s=>(console.error("Failed to get image meta for "+e,s+""),{width:0,height:0,ratio:0}))}async function ae(t){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((e,n)=>{const s=new Image;s.onload=()=>{const i={width:s.width,height:s.height,ratio:s.width/s.height};e(i)},s.onerror=i=>n(i),s.src=t})}function R(t){return e=>e?t[e]||e:t.missingValue}function ce({formatter:t,keyMap:e,joinWith:n="/",valueMap:s}={}){t||(t=(o,r)=>`${o}=${r}`),e&&typeof e!="function"&&(e=R(e));const i=s||{};return Object.keys(i).forEach(o=>{typeof i[o]!="function"&&(i[o]=R(i[o]))}),(o={})=>Object.entries(o).filter(([a,c])=>typeof c<"u").map(([a,c])=>{const u=i[a];return typeof u=="function"&&(c=u(o[a])),a=typeof e=="function"?e(a):a,t(a,c)}).join(n)}function y(t=""){if(typeof t=="number")return t;if(typeof t=="string"&&t.replace("px","").match(/^\d+$/g))return parseInt(t,10)}function ue(t=""){if(t===void 0||!t.length)return[];const e=new Set;for(const n of t.split(" ")){const s=parseInt(n.replace("x",""));s&&e.add(s)}return Array.from(e)}function le(t){if(t.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function de(t){const e={};if(typeof t=="string")for(const n of t.split(/[\s,]+/).filter(s=>s)){const s=n.split(":");s.length!==2?e["1px"]=s[0].trim():e[s[0].trim()]=s[1].trim()}else Object.assign(e,t);return e}function fe(t){const e={options:t},n=(i,o={})=>E(e,i,o),s=(i,o={},r={})=>n(i,{...r,modifiers:U(o,r.modifiers||{})}).url;for(const i in t.presets)s[i]=(o,r,a)=>s(o,r,{...t.presets[i],...a});return s.options=t,s.getImage=n,s.getMeta=(i,o)=>he(e,i,o),s.getSizes=(i,o)=>pe(e,i,o),e.$img=s,s}async function he(t,e,n){const s=E(t,e,{...n});return typeof s.getMeta=="function"?await s.getMeta():await re(t,s.url)}function E(t,e,n){var u,m;if(typeof e!="string"||e==="")throw new TypeError(`input must be a string (received ${typeof e}: ${JSON.stringify(e)})`);if(e.startsWith("data:"))return{url:e};const{provider:s,defaults:i}=me(t,n.provider||t.options.provider),o=ge(t,n.preset);if(e=k(e)?e:A(e),!s.supportsAlias)for(const f in t.options.alias)e.startsWith(f)&&(e=b(t.options.alias[f],e.substr(f.length)));if(s.validateDomains&&k(e)){const f=D(e).host;if(!t.options.domains.find(S=>S===f))return{url:e}}const r=U(n,o,i);r.modifiers={...r.modifiers};const a=r.modifiers.format;(u=r.modifiers)!=null&&u.width&&(r.modifiers.width=y(r.modifiers.width)),(m=r.modifiers)!=null&&m.height&&(r.modifiers.height=y(r.modifiers.height));const c=s.getImage(e,r,t);return c.format=c.format||a||"",c}function me(t,e){const n=t.options.providers[e];if(!n)throw new Error("Unknown provider: "+e);return n}function ge(t,e){if(!e)return{};if(!t.options.presets[e])throw new Error("Unknown preset: "+e);return t.options.presets[e]}function pe(t,e,n){var z,q,W,j,I;const s=y((z=n.modifiers)==null?void 0:z.width),i=y((q=n.modifiers)==null?void 0:q.height),o=de(n.sizes),r=(W=n.densities)!=null&&W.trim()?ue(n.densities.trim()):t.options.densities;le(r);const a=s&&i?i/s:0,c=[],u=[];if(Object.keys(o).length>=1){for(const d in o){const g=C(d,String(o[d]),i,a,t);if(g!==void 0){c.push({size:g.size,screenMaxWidth:g.screenMaxWidth,media:`(max-width: ${g.screenMaxWidth}px)`});for(const _ of r)u.push({width:g._cWidth*_,src:Q(t,e,n,g,_)})}}_e(c)}else for(const d of r){const g=Object.keys(o)[0];let _=C(g,String(o[g]),i,a,t);_===void 0&&(_={size:"",screenMaxWidth:0,_cWidth:(j=n.modifiers)==null?void 0:j.width,_cHeight:(I=n.modifiers)==null?void 0:I.height}),u.push({width:d,src:Q(t,e,n,_,d)})}ve(u);const m=u[u.length-1],f=c.length?c.map(d=>`${d.media?d.media+" ":""}${d.size}`).join(", "):void 0,S=f?"w":"x",N=u.map(d=>`${d.src} ${d.width}${S}`).join(", ");return{sizes:f,srcset:N,src:m==null?void 0:m.src}}function C(t,e,n,s,i){const o=i.options.screens&&i.options.screens[t]||parseInt(t),r=e.endsWith("vw");if(!r&&/^\d+$/.test(e)&&(e=e+"px"),!r&&!e.endsWith("px"))return;let a=parseInt(e);if(!o||!a)return;r&&(a=Math.round(a/100*o));const c=s?Math.round(a*s):n;return{size:e,screenMaxWidth:o,_cWidth:a,_cHeight:c}}function Q(t,e,n,s,i){return t.$img(e,{...n.modifiers,width:s._cWidth?s._cWidth*i:void 0,height:s._cHeight?s._cHeight*i:void 0},n)}function _e(t){var n;t.sort((s,i)=>s.screenMaxWidth-i.screenMaxWidth);let e=null;for(let s=t.length-1;s>=0;s--){const i=t[s];i.media===e&&t.splice(s,1),e=i.media}for(let s=0;s<t.length;s++)t[s].media=((n=t[s+1])==null?void 0:n.media)||""}function ve(t){t.sort((n,s)=>n.width-s.width);let e=null;for(let n=t.length-1;n>=0;n--){const s=t[n];s.width===e&&t.splice(n,1),e=s.width}}const we=ce({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(t,e)=>T(t)+"_"+T(e)}),xe=(t,{modifiers:e={},baseURL:n}={},s)=>{e.width&&e.height&&(e.resize=`${e.width}x${e.height}`,delete e.width,delete e.height);const i=we(e)||"_";return n||(n=b(s.options.nuxt.baseURL,"/_ipx")),{url:b(n,i,V(t))}},ye=!0,Se=!0,$e=Object.freeze(Object.defineProperty({__proto__:null,getImage:xe,supportsAlias:Se,validateDomains:ye},Symbol.toStringTag,{value:"Module"})),H={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};H.providers={ipxStatic:{provider:$e,defaults:{}}};const be=()=>{const t=F(),e=L();return e.$img||e._img||(e._img=fe({...H,nuxt:{baseURL:t.app.baseURL}}))};const ze={class:"step"},qe=["disabled","onClick"],We={__name:"QuizStep",props:{options:Array,name:String,question:String,imageUrl:String,correctOption:String},emits:["nextQuestion"],setup(t,{emit:e}){const n=t,s=e,i=v(Object.assign({},...n.options.map(a=>({[a.value]:null})))),o=v(!1),r=a=>{o.value=!0,i.value[a.value]=a.isRight?"btn_right":"btn_wrong",a.isRight?s("nextQuestion",!0):s("nextQuestion",!1)};return(a,c)=>(h(),p("div",ze,[w("h2",null,x(t.question),1),(h(!0),p(O,null,B(t.options,u=>(h(),p("button",{key:u.value,class:G(["btn",l(i)[u.value]]),disabled:l(o),onClick:m=>r(u)},x(u.name),11,qe))),128))]))}},je=We;const Ie={class:"quiz"},ke={key:0},Te={key:1},Me={__name:"TheQuiz",props:{steps:Array},setup(t){const e=t,n=v(-1),s=v(e.steps[n.value]),i=v(e.steps.length),o=v(0),r=(c=!1)=>{c&&(o.value+=1),n.value===i.value-1?a(-2,!0):n.value===-2?(o.value=0,a(0)):n.value===-1?a(0):a(null,!0)},a=(c=null,u=!1)=>{setTimeout(()=>{n.value=c!==null?c:n.value+1,s.value=e.steps[n.value]},u?3e3:0)};return(c,u)=>{const m=je;return h(),p("div",Ie,[l(n)===-1?(h(),p("div",ke,[$(c.$slots,"start"),w("button",{class:"btn",onClick:u[0]||(u[0]=f=>r())},"Start!")])):l(n)===-2?(h(),p("div",Te,[$(c.$slots,"end"),w("button",{class:"btn",onClick:u[1]||(u[1]=f=>r())},"Restart!")])):(h(),p(O,{key:2},[J(x(l(o))+"/"+x(l(i))+" ",1),l(s)?(h(),X(m,{key:l(n),options:l(s).options,name:l(s).name,question:l(s).question,imageUrl:l(s).imageUrl,onNextQuestion:r},null,8,["options","name","question","imageUrl"])):Y("",!0)],64))])}}},Re=Me;const Ce=w("div",{class:"text"},[w("h1",null,"Hunt: Showdown skill test!")],-1),Oe={__name:"index",setup(t){const e=be(),n=Z(()=>({backgroundImage:`url('${e("/background.jpg",{width:1920})}')`}));te({title:"Hunt: Showdown Skill Test",meta:[{name:"description",content:"Find out how good you are at Hunt: Showdown!"}]});const s=[{options:[{value:"test1",name:"Test 1",isRight:!0},{value:"test2",name:"Test 2",isRight:!1},{value:"test3",name:"Test 3",isRight:!1}],name:"question1",question:"Voici la question 1",imageUrl:"/quiz-bg.jpg"},{options:[{value:"test1",name:"Test 1",isRight:!1},{value:"test2",name:"Test 2",isRight:!0},{value:"test3",name:"Test 3",isRight:!1}],name:"question2",question:"Voici la question 2",imageUrl:"/quiz-bg.jpg"}];return(i,o)=>{const r=oe;return h(),p("div",{class:"home",style:ee(l(n))},[M(r,null,{default:K(()=>[Ce,M(Re,{steps:s})]),_:1})],4)}}};export{Oe as default};
