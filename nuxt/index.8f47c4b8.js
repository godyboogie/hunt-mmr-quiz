import{_ as F,q as m,s as v,C as I,h as k,D as V,E as q,p as B,F as N,G,H as W,I as J,l as Y,r as w,t as y,v as H,J as K,K as X,L as Z,M as d,x as R,y as b,N as U,O as C,T as Q,c as ee,P as te}from"./entry.9c95177c.js";import{u as se}from"./vue.f36acd1f.a7b11f56.js";const ne={},ie={class:"quizContainer"};function oe(t,e){return m(),v("div",ie,[I(t.$slots,"default")])}const re=F(ne,[["render",oe]]);async function ae(t,e){return await le(e).catch(s=>(console.error("Failed to get image meta for "+e,s+""),{width:0,height:0,ratio:0}))}async function le(t){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((e,n)=>{const s=new Image;s.onload=()=>{const i={width:s.width,height:s.height,ratio:s.width/s.height};e(i)},s.onerror=i=>n(i),s.src=t})}function O(t){return e=>e?t[e]||e:t.missingValue}function ce({formatter:t,keyMap:e,joinWith:n="/",valueMap:s}={}){t||(t=(o,r)=>`${o}=${r}`),e&&typeof e!="function"&&(e=O(e));const i=s||{};return Object.keys(i).forEach(o=>{typeof i[o]!="function"&&(i[o]=O(i[o]))}),(o={})=>Object.entries(o).filter(([a,u])=>typeof u<"u").map(([a,u])=>{const l=i[a];return typeof l=="function"&&(u=l(o[a])),a=typeof e=="function"?e(a):a,t(a,u)}).join(n)}function z(t=""){if(typeof t=="number")return t;if(typeof t=="string"&&t.replace("px","").match(/^\d+$/g))return parseInt(t,10)}function ue(t=""){if(t===void 0||!t.length)return[];const e=new Set;for(const n of t.split(" ")){const s=parseInt(n.replace("x",""));s&&e.add(s)}return Array.from(e)}function de(t){if(t.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function fe(t){const e={};if(typeof t=="string")for(const n of t.split(/[\s,]+/).filter(s=>s)){const s=n.split(":");s.length!==2?e["1px"]=s[0].trim():e[s[0].trim()]=s[1].trim()}else Object.assign(e,t);return e}function he(t){const e={options:t},n=(i,o={})=>P(e,i,o),s=(i,o={},r={})=>n(i,{...r,modifiers:N(o,r.modifiers||{})}).url;for(const i in t.presets)s[i]=(o,r,a)=>s(o,r,{...t.presets[i],...a});return s.options=t,s.getImage=n,s.getMeta=(i,o)=>me(e,i,o),s.getSizes=(i,o)=>_e(e,i,o),e.$img=s,s}async function me(t,e,n){const s=P(t,e,{...n});return typeof s.getMeta=="function"?await s.getMeta():await ae(t,s.url)}function P(t,e,n){var l,p;if(typeof e!="string"||e==="")throw new TypeError(`input must be a string (received ${typeof e}: ${JSON.stringify(e)})`);if(e.startsWith("data:"))return{url:e};const{provider:s,defaults:i}=ge(t,n.provider||t.options.provider),o=pe(t,n.preset);if(e=k(e)?e:V(e),!s.supportsAlias)for(const g in t.options.alias)e.startsWith(g)&&(e=q(t.options.alias[g],e.substr(g.length)));if(s.validateDomains&&k(e)){const g=B(e).host;if(!t.options.domains.find(c=>c===g))return{url:e}}const r=N(n,o,i);r.modifiers={...r.modifiers};const a=r.modifiers.format;(l=r.modifiers)!=null&&l.width&&(r.modifiers.width=z(r.modifiers.width)),(p=r.modifiers)!=null&&p.height&&(r.modifiers.height=z(r.modifiers.height));const u=s.getImage(e,r,t);return u.format=u.format||a||"",u}function ge(t,e){const n=t.options.providers[e];if(!n)throw new Error("Unknown provider: "+e);return n}function pe(t,e){if(!e)return{};if(!t.options.presets[e])throw new Error("Unknown preset: "+e);return t.options.presets[e]}function _e(t,e,n){var x,$,T,j,M;const s=z((x=n.modifiers)==null?void 0:x.width),i=z(($=n.modifiers)==null?void 0:$.height),o=fe(n.sizes),r=(T=n.densities)!=null&&T.trim()?ue(n.densities.trim()):t.options.densities;de(r);const a=s&&i?i/s:0,u=[],l=[];if(Object.keys(o).length>=1){for(const h in o){const _=A(h,String(o[h]),i,a,t);if(_!==void 0){u.push({size:_.size,screenMaxWidth:_.screenMaxWidth,media:`(max-width: ${_.screenMaxWidth}px)`});for(const S of r)l.push({width:_._cWidth*S,src:E(t,e,n,_,S)})}}ve(u)}else for(const h of r){const _=Object.keys(o)[0];let S=A(_,String(o[_]),i,a,t);S===void 0&&(S={size:"",screenMaxWidth:0,_cWidth:(j=n.modifiers)==null?void 0:j.width,_cHeight:(M=n.modifiers)==null?void 0:M.height}),l.push({width:h,src:E(t,e,n,S,h)})}we(l);const p=l[l.length-1],g=u.length?u.map(h=>`${h.media?h.media+" ":""}${h.size}`).join(", "):void 0,c=g?"w":"x",f=l.map(h=>`${h.src} ${h.width}${c}`).join(", ");return{sizes:g,srcset:f,src:p==null?void 0:p.src}}function A(t,e,n,s,i){const o=i.options.screens&&i.options.screens[t]||parseInt(t),r=e.endsWith("vw");if(!r&&/^\d+$/.test(e)&&(e=e+"px"),!r&&!e.endsWith("px"))return;let a=parseInt(e);if(!o||!a)return;r&&(a=Math.round(a/100*o));const u=s?Math.round(a*s):n;return{size:e,screenMaxWidth:o,_cWidth:a,_cHeight:u}}function E(t,e,n,s,i){return t.$img(e,{...n.modifiers,width:s._cWidth?s._cWidth*i:void 0,height:s._cHeight?s._cHeight*i:void 0},n)}function ve(t){var n;t.sort((s,i)=>s.screenMaxWidth-i.screenMaxWidth);let e=null;for(let s=t.length-1;s>=0;s--){const i=t[s];i.media===e&&t.splice(s,1),e=i.media}for(let s=0;s<t.length;s++)t[s].media=((n=t[s+1])==null?void 0:n.media)||""}function we(t){t.sort((n,s)=>n.width-s.width);let e=null;for(let n=t.length-1;n>=0;n--){const s=t[n];s.width===e&&t.splice(n,1),e=s.width}}const ye=ce({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(t,e)=>W(t)+"_"+W(e)}),xe=(t,{modifiers:e={},baseURL:n}={},s)=>{e.width&&e.height&&(e.resize=`${e.width}x${e.height}`,delete e.width,delete e.height);const i=ye(e)||"_";return n||(n=q(s.options.nuxt.baseURL,"/_ipx")),{url:q(n,i,G(t))}},Se=!0,$e=!0,be=Object.freeze(Object.defineProperty({__proto__:null,getImage:xe,supportsAlias:$e,validateDomains:Se},Symbol.toStringTag,{value:"Module"})),D={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};D.providers={ipxStatic:{provider:be,defaults:{}}};const L=()=>{const t=J(),e=Y();return e.$img||e._img||(e._img=he({...D,nuxt:{baseURL:t.app.baseURL}}))},ze={class:"step"},Ie=["disabled","onClick"],qe={__name:"QuizStep",props:{options:Array,name:String,question:String,imageUrl:String,correctOption:String},emits:["nextQuestion"],setup(t,{emit:e}){const n=t,s=e,i=w(Object.assign({},...n.options.map(a=>({[a.value]:null})))),o=w(!1),r=a=>{o.value=!0,i.value[a.value]=a.isRight?"btn_right":"btn_wrong",a.isRight?s("nextQuestion",!0):s("nextQuestion",!1)};return(a,u)=>(m(),v("div",ze,[y("h2",null,H(t.question),1),(m(!0),v(K,null,X(t.options,l=>(m(),v("button",{key:l.value,class:Z(["btn",d(i)[l.value]]),disabled:d(o),onClick:p=>r(l)},H(l.name),11,Ie))),128))]))}},Re=qe;const Te={class:"quiz"},je={key:0},Me={key:1},ke=["innerHTML"],We=["src"],He={__name:"TheQuiz",props:{steps:Array,results:Array,randomResults:{type:Boolean,default:!1}},setup(t){const e=t,n=w(-1),s=w(e.steps[n.value]),i=w(e.steps.length),o=w(0),r=w(null),a=w({}),u=(c=!1)=>{c&&(o.value+=1),n.value===i.value-1?(p(),l(-2,!0)):n.value===-2?(o.value=0,l(0)):n.value===-1?l(0):l(null,!0)},l=(c=null,f=!1)=>{setTimeout(()=>{const x=c!==null?c:n.value+1;n.value=-10,s.value=null,setTimeout(()=>{n.value=x,s.value=e.steps[n.value]},500)},f?1500:0)},p=()=>{e.randomResults?r.value=e.results[Math.floor(Math.random()*e.results.length)]:e.results.sort((c,f)=>c.value-f.value).reverse().every(c=>o.value<=c.value?(r.value=c,!0):!1)},g=L();return e.results.filter(c=>c.image).forEach(c=>{const f=g(c.image,{width:700});a.value[c.image]=f}),(c,f)=>{const x=Re;return m(),v("div",Te,[R(Q,{name:"list"},{default:b(()=>[d(n)===-1?(m(),v("div",je,[I(c.$slots,"start"),y("button",{class:"btn",onClick:f[0]||(f[0]=$=>u())},"Start!")])):d(n)===-2?(m(),v("div",Me,[I(c.$slots,"end"),y("div",{class:"text",innerHTML:d(r).text},null,8,ke),d(r).image?(m(),v("img",{key:0,src:d(a)[d(r).image]},null,8,We)):U("",!0),y("button",{class:"btn",onClick:f[1]||(f[1]=$=>u())},"Restart!")])):(m(),C(Q,{key:2,name:"list"},{default:b(()=>[d(s)?(m(),C(x,{key:d(n),options:d(s).options,name:d(s).name,question:d(s).question,imageUrl:d(s).imageUrl,onNextQuestion:u},null,8,["options","name","question","imageUrl"])):U("",!0)]),_:1}))]),_:3})])}}},Ue=He;const Ce=y("div",{class:"text text_centered"},[y("h1",null,"Hunt: Showdown skill test!")],-1),Qe=y("h2",null,"In this quiz, you will find out your true Hunt: Showdown rating.",-1),Ee={__name:"index",setup(t){const e=L(),n=ee(()=>({backgroundImage:`url('${e("/images/background.jpg",{width:1920})}')`}));se({title:"Hunt: Showdown Skill Test",meta:[{name:"description",content:"Find out how good you are at Hunt: Showdown!"}]});const s=[{options:[{value:"test1",name:"Test 1",isRight:!0},{value:"test2",name:"Test 2",isRight:!1},{value:"test3",name:"Test 3",isRight:!1}],name:"question1",question:"Voici la question 1",imageUrl:"/quiz-bg.jpg"},{options:[{value:"test1",name:"Test 1",isRight:!1},{value:"test2",name:"Test 2",isRight:!0},{value:"test3",name:"Test 3",isRight:!1}],name:"question2",question:"Voici la question 2",imageUrl:"/quiz-bg.jpg"}],i=[{value:0,text:"<h3>1 star player!</h3><p>Do not worry, you will be better... someday!</p>",image:"/images/results/1-star.jpg"},{value:1,text:"<h3>2 star player</h3><p>You think you are good? Think again!</p>",image:"/images/results/2-star.jpg"}];return(o,r)=>{const a=re;return m(),v("div",{class:"home",style:te(d(n))},[R(a,null,{default:b(()=>[Ce,R(Ue,{steps:s,results:i,randomResults:!0},{start:b(()=>[Qe]),_:1})]),_:1})],4)}}};export{Ee as default};
