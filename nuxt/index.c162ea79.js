import{_ as L,q as g,s as p,C as q,h as T,D,E as I,p as F,F as N,G as B,H as W,I as G,l as J,r as w,t as x,v as b,J as P,K as X,L as Y,M as d,N as k,z as Z,O as K,c as ee,x as C,y as H,P as te}from"./entry.4e84439a.js";import{u as se}from"./vue.f36acd1f.2fa28b8c.js";const ne={},ie={class:"quizContainer"};function oe(t,e){return g(),p("div",ie,[q(t.$slots,"default")])}const re=L(ne,[["render",oe]]);async function ae(t,e){return await ce(e).catch(s=>(console.error("Failed to get image meta for "+e,s+""),{width:0,height:0,ratio:0}))}async function ce(t){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((e,n)=>{const s=new Image;s.onload=()=>{const i={width:s.width,height:s.height,ratio:s.width/s.height};e(i)},s.onerror=i=>n(i),s.src=t})}function Q(t){return e=>e?t[e]||e:t.missingValue}function ue({formatter:t,keyMap:e,joinWith:n="/",valueMap:s}={}){t||(t=(o,r)=>`${o}=${r}`),e&&typeof e!="function"&&(e=Q(e));const i=s||{};return Object.keys(i).forEach(o=>{typeof i[o]!="function"&&(i[o]=Q(i[o]))}),(o={})=>Object.entries(o).filter(([a,l])=>typeof l<"u").map(([a,l])=>{const c=i[a];return typeof c=="function"&&(l=c(o[a])),a=typeof e=="function"?e(a):a,t(a,l)}).join(n)}function z(t=""){if(typeof t=="number")return t;if(typeof t=="string"&&t.replace("px","").match(/^\d+$/g))return parseInt(t,10)}function le(t=""){if(t===void 0||!t.length)return[];const e=new Set;for(const n of t.split(" ")){const s=parseInt(n.replace("x",""));s&&e.add(s)}return Array.from(e)}function de(t){if(t.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function fe(t){const e={};if(typeof t=="string")for(const n of t.split(/[\s,]+/).filter(s=>s)){const s=n.split(":");s.length!==2?e["1px"]=s[0].trim():e[s[0].trim()]=s[1].trim()}else Object.assign(e,t);return e}function he(t){const e={options:t},n=(i,o={})=>A(e,i,o),s=(i,o={},r={})=>n(i,{...r,modifiers:N(o,r.modifiers||{})}).url;for(const i in t.presets)s[i]=(o,r,a)=>s(o,r,{...t.presets[i],...a});return s.options=t,s.getImage=n,s.getMeta=(i,o)=>ge(e,i,o),s.getSizes=(i,o)=>_e(e,i,o),e.$img=s,s}async function ge(t,e,n){const s=A(t,e,{...n});return typeof s.getMeta=="function"?await s.getMeta():await ae(t,s.url)}function A(t,e,n){var c,_;if(typeof e!="string"||e==="")throw new TypeError(`input must be a string (received ${typeof e}: ${JSON.stringify(e)})`);if(e.startsWith("data:"))return{url:e};const{provider:s,defaults:i}=me(t,n.provider||t.options.provider),o=pe(t,n.preset);if(e=T(e)?e:D(e),!s.supportsAlias)for(const m in t.options.alias)e.startsWith(m)&&(e=I(t.options.alias[m],e.substr(m.length)));if(s.validateDomains&&T(e)){const m=F(e).host;if(!t.options.domains.find(u=>u===m))return{url:e}}const r=N(n,o,i);r.modifiers={...r.modifiers};const a=r.modifiers.format;(c=r.modifiers)!=null&&c.width&&(r.modifiers.width=z(r.modifiers.width)),(_=r.modifiers)!=null&&_.height&&(r.modifiers.height=z(r.modifiers.height));const l=s.getImage(e,r,t);return l.format=l.format||a||"",l}function me(t,e){const n=t.options.providers[e];if(!n)throw new Error("Unknown provider: "+e);return n}function pe(t,e){if(!e)return{};if(!t.options.presets[e])throw new Error("Unknown preset: "+e);return t.options.presets[e]}function _e(t,e,n){var S,$,R,j,M;const s=z((S=n.modifiers)==null?void 0:S.width),i=z(($=n.modifiers)==null?void 0:$.height),o=fe(n.sizes),r=(R=n.densities)!=null&&R.trim()?le(n.densities.trim()):t.options.densities;de(r);const a=s&&i?i/s:0,l=[],c=[];if(Object.keys(o).length>=1){for(const h in o){const v=U(h,String(o[h]),i,a,t);if(v!==void 0){l.push({size:v.size,screenMaxWidth:v.screenMaxWidth,media:`(max-width: ${v.screenMaxWidth}px)`});for(const y of r)c.push({width:v._cWidth*y,src:O(t,e,n,v,y)})}}ve(l)}else for(const h of r){const v=Object.keys(o)[0];let y=U(v,String(o[v]),i,a,t);y===void 0&&(y={size:"",screenMaxWidth:0,_cWidth:(j=n.modifiers)==null?void 0:j.width,_cHeight:(M=n.modifiers)==null?void 0:M.height}),c.push({width:h,src:O(t,e,n,y,h)})}we(c);const _=c[c.length-1],m=l.length?l.map(h=>`${h.media?h.media+" ":""}${h.size}`).join(", "):void 0,u=m?"w":"x",f=c.map(h=>`${h.src} ${h.width}${u}`).join(", ");return{sizes:m,srcset:f,src:_==null?void 0:_.src}}function U(t,e,n,s,i){const o=i.options.screens&&i.options.screens[t]||parseInt(t),r=e.endsWith("vw");if(!r&&/^\d+$/.test(e)&&(e=e+"px"),!r&&!e.endsWith("px"))return;let a=parseInt(e);if(!o||!a)return;r&&(a=Math.round(a/100*o));const l=s?Math.round(a*s):n;return{size:e,screenMaxWidth:o,_cWidth:a,_cHeight:l}}function O(t,e,n,s,i){return t.$img(e,{...n.modifiers,width:s._cWidth?s._cWidth*i:void 0,height:s._cHeight?s._cHeight*i:void 0},n)}function ve(t){var n;t.sort((s,i)=>s.screenMaxWidth-i.screenMaxWidth);let e=null;for(let s=t.length-1;s>=0;s--){const i=t[s];i.media===e&&t.splice(s,1),e=i.media}for(let s=0;s<t.length;s++)t[s].media=((n=t[s+1])==null?void 0:n.media)||""}function we(t){t.sort((n,s)=>n.width-s.width);let e=null;for(let n=t.length-1;n>=0;n--){const s=t[n];s.width===e&&t.splice(n,1),e=s.width}}const xe=ue({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(t,e)=>W(t)+"_"+W(e)}),ye=(t,{modifiers:e={},baseURL:n}={},s)=>{e.width&&e.height&&(e.resize=`${e.width}x${e.height}`,delete e.width,delete e.height);const i=xe(e)||"_";return n||(n=I(s.options.nuxt.baseURL,"/_ipx")),{url:I(n,i,B(t))}},Se=!0,$e=!0,be=Object.freeze(Object.defineProperty({__proto__:null,getImage:ye,supportsAlias:$e,validateDomains:Se},Symbol.toStringTag,{value:"Module"})),E={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};E.providers={ipxStatic:{provider:be,defaults:{}}};const V=()=>{const t=G(),e=J();return e.$img||e._img||(e._img=he({...E,nuxt:{baseURL:t.app.baseURL}}))};const ze={class:"step"},qe=["disabled","onClick"],Ie={__name:"QuizStep",props:{options:Array,name:String,question:String,imageUrl:String,correctOption:String},emits:["nextQuestion"],setup(t,{emit:e}){const n=t,s=e,i=w(Object.assign({},...n.options.map(a=>({[a.value]:null})))),o=w(!1),r=a=>{o.value=!0,i.value[a.value]=a.isRight?"btn_right":"btn_wrong",a.isRight?s("nextQuestion",!0):s("nextQuestion",!1)};return(a,l)=>(g(),p("div",ze,[x("h2",null,b(t.question),1),(g(!0),p(P,null,X(t.options,c=>(g(),p("button",{key:c.value,class:Y(["btn",d(i)[c.value]]),disabled:d(o),onClick:_=>r(c)},b(c.name),11,qe))),128))]))}},Re=Ie;const je={class:"quiz"},Me={key:0},Te={key:1},We=["innerHTML"],ke=["src"],Ce={__name:"TheQuiz",props:{steps:Array,results:Array,randomResults:{type:Boolean,default:!1}},setup(t){const e=t,n=w(-1),s=w(e.steps[n.value]),i=w(e.steps.length),o=w(0),r=w(null),a=w({}),l=(u=!1)=>{u&&(o.value+=1),n.value===i.value-1?(_(),c(-2,!0)):n.value===-2?(o.value=0,c(0)):n.value===-1?c(0):c(null,!0)},c=(u=null,f=!1)=>{setTimeout(()=>{n.value=u!==null?u:n.value+1,s.value=e.steps[n.value]},f?1500:0)},_=()=>{e.randomResults?r.value=e.results[Math.floor(Math.random()*e.results.length)]:e.results.sort((u,f)=>u.value-f.value).reverse().every(u=>o.value<=u.value?(r.value=u,!0):!1)},m=V();return e.results.filter(u=>u.image).forEach(u=>{const f=m(u.image,{width:700});a.value[u.image]=f}),(u,f)=>{const S=Re;return g(),p("div",je,[d(n)===-1?(g(),p("div",Me,[q(u.$slots,"start"),x("button",{class:"btn",onClick:f[0]||(f[0]=$=>l())},"Start!")])):d(n)===-2?(g(),p("div",Te,[q(u.$slots,"end"),x("div",{class:"text",innerHTML:d(r).text},null,8,We),d(r).image?(g(),p("img",{key:0,src:d(a)[d(r).image]},null,8,ke)):k("",!0),x("button",{class:"btn",onClick:f[1]||(f[1]=$=>l())},"Restart!")])):(g(),p(P,{key:2},[Z(b(d(o))+"/"+b(d(i))+" ",1),d(s)?(g(),K(S,{key:d(n),options:d(s).options,name:d(s).name,question:d(s).question,imageUrl:d(s).imageUrl,onNextQuestion:l},null,8,["options","name","question","imageUrl"])):k("",!0)],64))])}}},He=Ce;const Qe=x("div",{class:"text text_centered"},[x("h1",null,"Hunt: Showdown skill test!")],-1),Ue=x("h2",null,"In this quiz, you will find out your true Hunt: Showdown rating.",-1),Pe={__name:"index",setup(t){const e=V(),n=ee(()=>({backgroundImage:`url('${e("/images/background.jpg",{width:1920})}')`}));se({title:"Hunt: Showdown Skill Test",meta:[{name:"description",content:"Find out how good you are at Hunt: Showdown!"}]});const s=[{options:[{value:"test1",name:"Test 1",isRight:!0},{value:"test2",name:"Test 2",isRight:!1},{value:"test3",name:"Test 3",isRight:!1}],name:"question1",question:"Voici la question 1",imageUrl:"/quiz-bg.jpg"},{options:[{value:"test1",name:"Test 1",isRight:!1},{value:"test2",name:"Test 2",isRight:!0},{value:"test3",name:"Test 3",isRight:!1}],name:"question2",question:"Voici la question 2",imageUrl:"/quiz-bg.jpg"}],i=[{value:0,text:"<h3>0, really?</h3>",image:"/images/quiz-bg.jpg"},{value:1,text:"<h3>1, not bad.</h3>"}];return(o,r)=>{const a=re;return g(),p("div",{class:"home",style:te(d(n))},[C(a,null,{default:H(()=>[Qe,C(He,{steps:s,results:i,randomResults:!0},{start:H(()=>[Ue]),_:1})]),_:1})],4)}}};export{Pe as default};
